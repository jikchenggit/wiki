---
title: GET STARTED
description: GET STARTED
published: true
date: 2021-08-25T08:31:01.958Z
tags: get started
editor: markdown
dateCreated: 2020-08-09T07:09:32.082Z
---

# 什么是citus
citus 和 postgresql 版本无需太过关注,citus 是由内向外扩展构建的.是作为postgresql 的一个扩展,用于在多台机器的集群中分发数据和查询.作为一个扩展(而不是分支),所以citus 可以适配到最新的postgresql数据库.

citus 使用分布式(切片)和复制在多台机器上水平扩展postgresql.使用查询引擎并行传入sql 查询.支持在大型数据库上的快速响应.

## 三种分布式方案对于postgresql
1. 作为开源代码添加到现有的postgres 服务器
2. 自带企业级安全和集群管理工具.
3. 在亚马逊云计算中,在Azure 数据库中.

# citus数据量支持指标
citus 通过添加工作节点进行水平扩展,通过升级工作节点/协调器进行垂直扩展,并支持需要时切换到`citus MX`. 在实践中已经达到了以下规模.

- (Algolia)搜索服务
每天插入5-10B rows

- (Heap) 数据分析

700 多亿并发事件
1.4PB 和70 节点的集群.

- (Pex) 搜索数据库

每天 80b 行数据
20 节点的云山数据库.
2.4TB 的内润,1280 核,80TB 数据
计划增加节点到45 .
- Mixrank
1.6PB 时间顺序数据库.

# 场景分析
## 多租户数据库
大多数的应用程序已经在器数据模型中内置了租户,客户或者账户概念.在这种模型中,数据库为许多租户服务,每个租户的数据都与其他租户分开.

citus 为了工作负载平衡覆盖了所有的sql 语句,并支持100K+ 的租户数量.citus 还未多租户添加了新的特性.例如,citus支持租户隔离,为大型租户提供保障,并有引用表概念,减少租户之间的数据冗余. 

这些功能允许跨多个机器扩展性能,轻松的添加更多的CPU,内存和磁盘资源.这种可以有效的使用硬件资源并简化数据库管理.

对于多租户应用,citus 的一些优势.
- 对于所有租户查询优化做的表较好
- 切片逻辑放在在数据库,而不是应用程序中.
- 保存比单节点postgresql 还要更多的数据.
- 保持了sql 标准,且还能够向外扩展.
- 高并发下维护性能
- 快速分析
- 很容易进行扩展.
- 隔离大资源消耗和小资源消耗的使用.
## 实时分析
citus 支持大型数据库进行实时查询.这些查询通常发生在快速增长的事件系统或具有时间序列数据的系统中,包括以下内容:
- 具有亚秒及时间的解析仪表板
- 展开事件的探索性查询
- 大型数据集归档和报告
- 分析session 队列,细分优先级,和队列查询.

citus 优点是能够并行化查询执行,并随着数据库数量线性扩展,citus 在实时应用中的一些优势:

- 在数据集增长时维护次秒级响应
- 实时分析新事件和新数据
- 并行sql 查询
- 保持了sql 标准,且还能够向外扩展.
- 高并发,性能维护
- 快速响应仪表版和查询
- 对外提供一个数据库,而不是拼凑聚合
- 丰富的postgresql 数据类型和扩展.

## 使用场景
citus 扩展了postgresql 分布式功能,但不是可以扩展所有工作负载的替代产品.citus 集群需要考虑数据模型,工具和所使用的sql 特性选择 

## 不适合的场景
一些工作负载不是很大的分布式数据.第二: 工作节点上有很大的信息流.
- 使用单节点可以支持应用程序且增长速度很慢.
- 离线分析,不需要实时查询,和实时查询.
- 分析应用,不需要高并发的用户.
- 返回大量数据,而不是少量查询.
# 快速教程
- [快速教程](/zh/citus/getstarted/快速教程)
{.links-list}


